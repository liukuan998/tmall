"use strict";$(function(){({init:function(){this.getELe(),this.bindEvent()},getELe:function(){this.$con=$(".con"),this.$bigCon=$(".bigCon"),this.$simg=$(".simg"),this.$video=$("#video"),this.$shut=$(".shut"),this.$biaoti=$(".biaoti"),this.$tmtit=$(".tmtit"),this.$pprice=$(".pprice"),this.$num=$(".num"),this.$colorKinds=$(".colorKinds"),this.$href=$(location).attr("href"),this.obj=null},bindEvent:function(){var i=Number(this.$href.split("?")[1].split("=")[1]),e=this;$.ajax({url:"./data/samsung.json",type:"get",dataType:"json",success:function(t){$(t).each(function(t,n){var o,s;n.id===i&&(e.obj=n,$(".slogo").text(n.shop),e.$biaoti.text(n.tit),e.$pprice.text(n.price),e.$num.text(n.sold),e.$con.find("img").attr("src",n.src),e.$bigCon.css({background:"url("+n.src+") no-repeat","background-size":"936px 936px"}),o="",$(n.simg).each(function(t,i){o+='<li><img src="'+i+'"></li>'}),e.$simg.html(o),s="",$(n.stit).each(function(t,i){s+='<li><i class="gou"></i><img src="'+n.simg[t]+'"><span class="kindName">'+i+"</span></li>"}),e.$colorKinds.html(s),n.video&&(e.$video.css({display:"block"}),e.$shut.css({display:"block"}),e.$video.attr("src",n.video),e.$video.attr("poster",n.poster),e.$shut.click(function(){e.$video.css({display:"none"}),e.$shut.css({display:"none"})})))}),$(".putCar").click(function(){var t=[],n=!0;localStorage.getItem("carNum")&&(t=JSON.parse(localStorage.getItem("carNum")));var o=e.obj.id;$(t).each(function(t,i){if(i.id===o)return i.num++,void(n=!1)}),n&&t.push({id:o,num:1}),localStorage.setItem("carNum",JSON.stringify(t)),$(".carNum").text(t.length),alert("加入购物车成功！");var i=[],s=!0;localStorage.getItem("carList")&&(i=JSON.parse(localStorage.getItem("carList")));o=e.obj.id;$(i).each(function(t,i){if(i.id===o)return i.num++,void(s=!1)}),s&&i.push({id:o,num:1}),localStorage.setItem("carList",JSON.stringify(i)),console.log(localStorage.getItem("carList"))})}})}}).init(),{init:function(){this.getEle(),this.bindEvent()},getEle:function(){this.$wuliu=$(".wuliu"),this.$wu=$(".wu"),this.$phonet=$(".phonet"),this.$phonetao=$(".phonetao")},bindEvent:function(){var t=this;this.$wuliu.mouseenter(function(){t.$wu.slideDown(1)}),this.$wuliu.mouseleave(function(){t.$wu.slideUp(1)}),this.$phonet.mouseenter(function(){t.$phonetao.slideDown(1)}),this.$phonet.mouseleave(function(){t.$phonetao.slideUp(1)})}}.init(),{init:function(){this.getEle(),this.bindEvent()},getEle:function(){this.$con=$(".con"),this.$bigCon=$(".bigCon"),this.$mask=$(".mask")},bindEvent:function(){var e=this;this.$con.mousemove(function(t){document.body.scrollTop;e.$bigCon[0].style.display="block",e.$mask[0].style.display="block";var i=t.clientX-e.offset(e.$con[0],!1).left-109,n=t.clientY-e.offset(e.$con[0],!1).top-109+document.documentElement.scrollTop;i<=0?i=0:200<=i&&(i=200),n<=0?n=0:200<=n&&(n=200),e.$mask.css({left:i+"px",top:n+"px"});var o=i/200,s=n/200;e.$bigCon[0].style.backgroundPositionX=-418*o+"px",e.$bigCon[0].style.backgroundPositionY=-418*s+"px"}),this.$con.mouseleave(function(t){e.$mask[0].style.display="none",e.$bigCon[0].style.display="none"})},offset:function(t,i){for(var n=0,o=0,s=t.clientLeft,e=t.clientTop;t;)n=n+t.offsetLeft+t.clientLeft,o=o+t.offsetTop+t.clientTop,t=t.offsetParent;return i?{left:n-s,top:o-e}:{left:n,top:o}}}.init(),{init:function(){this.getEle(),this.bindEvent()},getEle:function(){this.$lis=$(".simg li"),this.$con=$(".con"),this.$bigCon=$(".bigCon")},bindEvent:function(){var i=this;$(".simg").on("mouseenter","li",function(){var t=$(this).find("img").attr("src");i.$con.find("img").attr("src",t),i.$bigCon.css({background:"url("+t+") no-repeat","background-size":"936px 936px"})})}}.init(),{init:function(){this.getEle(),this.bindEvent()},getEle:function(){this.colorKinds=$(".colorKinds"),this.$con=$(".con"),this.$bigCon=$(".bigCon")},bindEvent:function(){var i,n=this;$(".colorKinds").on("click","li",function(){$(".colorKinds li:nth-child(1)").css({border:"1px solid #ccc"}),$(".colorKinds li:nth-child(1)").find(".gou").css({display:"none"}),i&&(i.css({border:"1px solid #ccc"}),i.find(".gou").css({display:"none"})),$(this).css({border:" 2px solid #ff0036"}),$(this).find(".gou").css({display:"block"}),i=$(this);var t=$(this).find("img").attr("src");n.$con.find("img").attr("src",t),n.$bigCon.css({background:"url("+t+") no-repeat","background-size":"936px 936px"})})}}.init(),{init:function(){this.$up=$(".up"),this.$down=$(".down");this.$up.click(function(){var t=Number($(".numbers").text());t++,$(".numbers").text(t),99<=t&&$(".numbers").text("99")}),this.$down.click(function(){var t=Number($(".numbers").text());t--,$(".numbers").text(t),t<=1&&$(".numbers").text("1")})}}.init()});